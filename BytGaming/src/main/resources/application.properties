# =======================
# === DATABASE CONFIG ===
# Soporta MySQL y PostgreSQL automáticamente
# Render proporciona DATABASE_URL en formato: postgresql://user:pass@host:port/db
# Railway/MySQL usa DB_URL en formato JDBC: jdbc:mysql://host:port/db
# La clase DatabaseConfig convierte automáticamente DATABASE_URL a formato JDBC
# Si no hay DATABASE_URL, se usa DB_URL directamente (debe estar en formato JDBC)
# Las propiedades spring.datasource.* son manejadas por DatabaseConfig cuando DATABASE_URL está presente
spring.datasource.url=${DB_URL:}
spring.datasource.username=${DB_USER:}
spring.datasource.password=${DB_PASSWORD:}
# Driver se detecta automáticamente desde la URL JDBC

# ======================
# === JPA & HIBERNATE ==
# ======================
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update
# Hibernate detecta automáticamente el dialecto desde la URL
# Pero puedes forzarlo si es necesario:
# Para MySQL: org.hibernate.dialect.MySQLDialect
# Para PostgreSQL: org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
# Configuración para PostgreSQL (se ignora si usas MySQL)
spring.jpa.properties.hibernate.default_schema=public
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# =====================
# === JWT SECURITY ====
# =====================
security.jwt.key.private=${SECURITY_JWT_KEY_PRIVATE:cb0bf0cb4921bb9602e27ce65b34c339ef926f2d4a982e299924d23baca18a43}
security.jwt.user.generator=${SECURITY_JWT_USER_GENERATOR:AUTH0JWT-BACKEND}

# ===================
# === SWAGGER DOC ===
# ===================
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/

# ===================
# === SERVER PORT ===
# ===================
# Render usa puerto 10000 por defecto, Railway usa el que asigna automáticamente
server.port=${PORT:10000}

